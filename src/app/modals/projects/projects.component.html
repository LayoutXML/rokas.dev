<!-- Card title and button -->
<div class="container">
  <h2 class="mt-3">Personal Projects</h2>

  <div class="card-deck d-flex flex-wrap mt-3">
    <ng-container *ngFor="let project of projectsService.getAllProjects(); let i = index">
      <div class="card card-background" [class.mb-4]="isProjectDisplayed(i)" *ngIf="isProjectDisplayed(i)">
        <a routerLink="/projects/{{project.codename}}" class="text-center"><img class="card-img-top mt-3 mb-3" src="assets/projects/logos/{{project.codename}}.png" alt="Rokas Jankunas | {{project.title}}"></a>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title mb-1">{{project.title}}</h5>
          <p class="font-italic">{{project.type}}</p>
          <p class="card-text" [class.mb-4]="project.publications.length > 0" [class.mb-5]="project.publications.length === 0">{{project.summary}}</p>
          <div class="mt-auto">
            <p class="card-text mb-2 font-weight-bold" *ngIf="project.publications.length > 0">As featured in:</p>
            <div class="container mb-3" *ngIf="project.publications.length > 0">
              <div class="row">
                <div *ngFor="let publication of project.publications" class="col text-center align-items-end d-flex flex-wrap justify-content-center">
                  <a routerLink="/projects/{{project.codename}}"><img src="assets/badges/{{publication.codename}}.png" alt="{{publication.title}}" class="featured-badge mb-3"></a>
                </div>
              </div>
            </div>
            <a routerLink="/projects/{{project.codename}}" class="btn btn-primary mt-auto mr-auto mb-0 stretched-link">Read more</a>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <div class="btn btn-link" role="button" (click)="this.isExpanded = !this.isExpanded">{{isExpanded ? 'Show less' : 'Show more'}}
    <fa-icon [icon]="isExpanded ? upIcon : downIcon" class="ml-1 pt-1"></fa-icon>
  </div>
</div>
